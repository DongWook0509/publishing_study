<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Shrinking Nav Bar</title>

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/master.css">
    </head>
    <body>
        <header id="main-header">
            <nav>
                <img src="images/logo.svg" alt="Logo" id="logo">

                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Products</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
        </header>

        <div class="container">
            <main>
                <p>The start of your content.</p>
                <p>The middle of your content.</p>
                <p>The end of your content.</p>
            </main>

            <footer>
                <hr>

                <p><small><em>This page is created by Adi Purdila as a demo for a shrinking nav bar.</em></small></p>
            </footer>
        </div> <!-- end container -->

       <!--  
        <script src="js/jquery-3.1.1.min.js"></script>
        <script src="js/scripts.js"></script>
         -->

         <script>
            var $window = window,
                $mainHeader = document.getElementById('main-header'),
                $defaultLogo = 'images/logo.svg',
                $threshold = $mainHeader.offsetHeight, //border 까지의 높이
                $Logo = document.getElementById('logo');    //<img src="images/logo.svg" alt="Logo" id="logo">  id=logo의 이미지의 속성을 바꿔야 합니다.
                $smallLogo = 'images/logo-shrink.svg';
            
                console.log($threshold);
            
           $window.addEventListener('scroll', function(){
                //메뉴의 높이보다 스크롤을 많이 하면 
                if(this.pageYOffset > $threshold){
                    //shirink가 없다는 조건이 참일때만 작동을 해야합니다.
                    if(!$mainHeader.classList.contains('shirink')){
                        $mainHeader.classList.add('shirink');
                        switchImg($smallLogo);
                    }
                }else{
                    if($mainHeader.classList.contains('shirink')){
                        $mainHeader.classList.remove('shirink');
                        switchImg($defaultLogo);
                    }
                }
            });

            function switchImg(newImgPath){
                //현재 이미지 안보이고 , 0.3s 지나면 새로운 주소 변경 보이도록
                $Logo.style.display = 'none';
                setTimeout(function(){
                    $Logo.setAttribute('src',newImgPath);
                    $Logo.style.display ='block';
                }, 300);
            }
         </script>
    </body>
</html>
